package workshop_2;

import java.io.File;
import java.io.PrintWriter;
import java.util.ArrayList;
import java.util.List;

public class Member {
	public String name;
	public int id;									
	public String securityNumber;					// YYYYMMDD-xxxx or YYMMDD-xxxx
	public static Boat[] listOfBoats = new Boat[5]; // Limits number of boats to 5 per member.
	private static int numberOfBoats;
	
	public Member(String name, int id, String securityNumber){
		this.name = name;
		this.id = id;
		this.securityNumber = securityNumber;
		numberOfBoats = Registry.numberOfBoats();
	}
	
	public String getName(){
		return name;
	}
	public int getID(){
		return id;
	}
	public String getSecurityNumber(){
		return securityNumber;
	}
	
	public void setName(String nameChange){
		this.name = nameChange;
	}
	public void setID(int idChange){
		this.id = idChange;
	}
	public void setSecurityNumber(String securityNumberChange){
		this.securityNumber = securityNumberChange;
	}
	public static void addBoat(String inputType, String inputLength){
		try {
			if(correctLength(inputLength)){
				listOfBoats[numberOfBoats] = new Boat(inputType, inputLength);
				System.out.println("Type: "+inputType+", Security Number: "+inputLength);
				//TODO Write Member to File.
			}
			else{
				throw new Exception();
			}
		} catch (Exception e) {
			System.err.println(e.getMessage());
		}
	}
	private static Boolean correctLength(String input) {
		System.out.println(input);
		try{
			if( input.matches("[0-9 . ,]+")){
				return true;	
			}
			else{
				throw new Exception();
			}	
		}catch (Exception e) {
			System.err.println("Not acceptable length!");
			return false;
		}
		
	}
	private static void writeToRegistry(){
		File dir = new File("testfolder");
		dir.mkdir();
		File dir2 = new File("testfolder2");
		dir2.mkdir();
		List<File> list = new ArrayList<File>();
		list.add(dir);
		list.add(dir2);
		
		File file = new File(list.get(0)+"/TraceFile.txt");
		PrintWriter writer= new PrintWriter(file);
		int numberOfFiles = new File("testfolder").listFiles().length;
		
		System.out.println("Antal filer: "+numberOfFiles);
		
		writer.println("hejsan");
		writer.close();
	}
	
}
